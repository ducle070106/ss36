<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>session36</title>
    <link rel="stylesheet" href="./baitap5.css" />
  </head>
  <body>
    <h2>ğŸ—‚ï¸ Quáº£n lÃ½ cÃ´ng viá»‡c (Task Board)</h2>

    <div class="task-input">
      <input type="text" id="taskName" placeholder="Nháº­p tÃªn cÃ´ng viá»‡c..." />
      <button onclick="addTask()">ThÃªm</button>
    </div>

    <div class="board">
      <div class="column" id="pendingCol">
        <h3>ğŸ• Chá» xá»­ lÃ½</h3>
        <div id="pendingTasks">
          <!-- <div class="task">
            <p>Ná»™i dung</p>
            <button>Chuyá»ƒn tiáº¿p</button>
          </div> -->
        </div>
      </div>
      <div class="column" id="inProgressCol">
        <h3>ğŸ”¨ Äang lÃ m</h3>
        <div id="inProgressTasks"></div>
      </div>
      <div class="column" id="doneCol">
        <h3>âœ… HoÃ n thÃ nh</h3>
        <div id="doneTasks">
          <!-- <div class="task">
            <p>Ná»™i dung</p>
          </div> -->
        </div>
      </div>
    </div>
    <script>
      listTask = JSON.parse(localStorage.getItem("listTask")) || [
        { task: "Ná»™i dung", status: 0 },
      ];
      let pendingTasks = document.querySelector("#pendingTasks");
      let inProgressTasks = document.querySelector("#inProgressTasks");
      let doneTasks = document.querySelector("#doneTasks");
      render();
      function render() {
        pendingTasks.innerHTML = listTask
          .map(
            (value, index) =>
              `${
                value.status === 0
                  ? `<div class="task">
                    <p>${value.task}</p>
                    <button onclick="update(${index})">Chuyá»ƒn tiáº¿p</button>
                  </div>`
                  : ""
              }`
          )
          .join("");
        inProgressTasks.innerHTML = listTask
          .map(
            (value, index) =>
              `${
                value.status === 1
                  ? `<div class="task">
                    <p>${value.task}</p>
                    <button onclick="update(${index})">Chuyá»ƒn tiáº¿p</button>
                  </div>`
                  : ""
              }`
          )
          .join("");
        doneTasks.innerHTML = listTask
          .map(
            (value) =>
              `${
                value.status === 2
                  ? `<div class="task">
                    <p>${value.task}</p>
                  </div>`
                  : ""
              }`
          )
          .join("");
        localStorage.setItem("listTask", JSON.stringify(listTask));
      }
      function update(index) {
        listTask[index].status++;
        render();
      }
      let taskName = document.querySelector("#taskName");
      function addTask() {
        if (taskName.value) {
          listTask.push({ task: taskName.value, status: 0 });
          render();
        } else {
          alert("KhÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng");
        }
      }
    </script>
  </body>
</html>